---
layout: post
title: 17.3 节点插入 
---
##17.3 节点插入
在一个链表结点后插入一个新的结点，如下图：
<img src="../../book/html-chunk/images/linkedlist.insert.png">
如要在结点id = 5的结点后插入一个新结点，首先需要找到这个结点，用search函数：

        note_t *search(note_t *head, int id)
        {
                while(head->id != id)
                        head = head->next;

                return head;
        }

这样我们找到了这个结点，下面要在这个结点这后插入一个新的结点：

	int insert(note_t *head, int id)
	{
		node_t *p, *q;

		p = new_node(id);
		if(p == NULL) return -1;
	
		if(head == NULL)
			head = p;
                q = search(head, id);
                p->next = q->next;
                p->next = q;

		return 0;
	}

这样我们在id = 5的结点后插入了一个新结点，id由insert(id)的参数确定。
